# Federated system parameters

Each server to be federated into the Process Federation Server container
applies the FederatedSystem CR. Provide the details that are relevant to your environment. To enable
the notification server, add the notifications section and set the Java Message
Service (JMS) access information. To enable database indexing, add the section for your database and
set the database connection information.

- General federated system parameters
- PostgreSQL parameters
- Oracle parameters
- Db2 parameters
- SQL Server parameters

## General federated system parameters

The following table shows the FederatedSystem parameters for all databases. The notification
parameters do not apply to on-premises Business Automation Workflow.

| Parameter name                    | Description                                                                                                                                                                                                                                                                                                                              | Example value                                   |
|-----------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| url                               | Base URL of the federated system. For example, https://example-baw1.apps.bawdev-x300.cp.fyre.ibm.com/baw-instance1                                                                                                                                                                                                                       | https://host/bpd-instance1                      |
| credentialSecret                  | The secret that contains the username and password with access to the url parameter. To generate the secret, run kubectl create secret generic server-credential --from-literal=serverUser=<your-bawserver-username> --from-literal=serverPassword=<your-bawserver-password>                                                             |                                                 |
| systemTypes                       | Comma-separated list of system types that are federated. The default value is BPD,CASE when the federated system is a container deployment, and BPD when the federated system is an on-premises deployment.                                                                                                                              | BPD,CASE                                        |
| additionalHeaders                 | List of HTTP headers to add to queries issued by Process Federation Server when it performs requests against the federated system. The list must be a colon-separated list of headers. The default value is X-PFS-ID=<namespace>-<PFS\_custom-resource-name>.                                                                             |                                                 |
| allowedOrigins                    | Acceptable values in the Origin header field. The value of this property must be a comma-separated list of prefixes in the format protocol://host:port. The default value is *.                                                                                                                                                          | https://example.com, http://example2.com:8080   |
| notifications.jmsServer           | The JMS server name. To enable the notification server, enter the notifications parameters. These parameters are not available if you are federating an on-premises Business Automation Workflow.                                                                                                                                        | example-instance1-baw-jms-service.baw1.svc      |
| notifications.jmsPort             | The JMS port. This parameter is not available if you are federating an on-premises Business Automation Workflow.                                                                                                                                                                                                                         | 7286                                            |
| notifications.jmsCredentialSecret | The secret that contains the JMS username and password. To generate the secret, run kubectl create secret generic pfs-jms-secret --from-literal=jmsUser=<your-jmsserver-username> --from-literal=jmsPassword=<your-jmsserver-password> The parameter is not available if you are federating an on-premises Business Automation Workflow. | <CR name>-<AE name>-aae-app-engine-admin-secret |
| certificates.secrets              | Certificates that must be added to the Process Federation Server truststore. This parameter accepts a list of secret names. Each secret must have a key that is named tls.crt that contains the public key certificate.                                                                                                                  |                                                 |
| advancedConfig                    | The name of the secret that contains the files that are mounted in the /config/configDropins/overrides folder.                                                                                                                                                                                                                           |                                                 |

## PostgreSQL
parameters

The following table shows the federated system parameters to enable PostgreSQL databases.

| Parameter name                     | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | Example value                                                          |
|------------------------------------|------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|------------------------------------------------------------------------|
| postgresqlIndexer.url              | URL of the PostgreSQL database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | jdbc:postgresql://api.workflow-fvt-auto7.cp.fyre.ibm.com:5432/baw4wpeb |
| postgresqlIndexer.current\_schema   | Current schema of the database.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      |                                                                        |
| postgresqlIndexer.credentialSecret | The secret that contains the database username and password. To generate the secret, run kubectl create secret generic pfs-db-secret --from-literal=dbUser=<your-dbserver-username> --from-literal=dbPassword=<your-dbserver-password>                                                                                                                                                                                                                                                                                                                                                               |                                                                        |
| postgresqlIndexer.ssl              | Whether to use Secure Sockets Layer (SSL).                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | true                                                                   |
| postgresqlIndexer.sslCertSecret    | The secret that contains the SSL username and password. To generate the secret, run kubectl create secret generic db-crt-secret --from-file=ca.crt=<your-dbserver-ca-certification-name>.crt To establish a more secure SSL connection, you can also provide the client's certificate and the matching private key, by running kubectl create secret generic db-crt-secret --from-file=ca.crt="<your-dbserver-ca-certification-name>.crt" --from-file=tls.crt="<your-client-certification-name>.crt" --from-file=tls.key="<your-client-key-name>.key" --from-literal=sslmode=[verify-ca|verify-full] |                                                                        |
| database.dc\_use\_postgres           | Set this parameter to true, if you want PostgreSQL database to be created for a IBM® Business Automation Workflow database. If you set the value of database.dc\_use\_postgres to true, make sure that database.enable\_ssl is also set to true and database.db\_cert\_secret\_name, database.server\_name, database.database\_name, database.port, and database.secret\_name are left empty because the operator automatically sets the values of these parameters with the values of the EDB Postgres instance.                                                                                             | false                                                                  |

## Oracle parameters

The following table shows the federated system parameters to enable Oracle databases.

| Parameter name                 | Description                                                                                                                                                                                                                            | Example value                                   |
|--------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------|
| oracleIndexer.url              | The URL of the Oracle database.                                                                                                                                                                                                        | jdbc:oracle:thin:@//<oracle\_server>:1521/orcl{} |
| oracleIndexer.credentialSecret | The secret that contains the database username and password. To generate the secret, run kubectl create secret generic pfs-db-secret --from-literal=dbUser=<your-dbserver-username> --from-literal=dbPassword=<your-dbserver-password> |                                                 |
| oracleIndexer.ssl              | The index on whether to use Secure Sockets Layer (SSL).                                                                                                                                                                                | true                                            |
| oracleIndexer.sslCertSecret    | The secret that contains the SSL username and password. To generate the secret, run kubectl create secret generic db-crt-secret --from-file=ca.crt=<your-dbserver-ca-certification-name>.crt                                           |                                                 |

## Db2 parameters

The following table shows the federated system parameters to enable Db2 databases.

| Parameter name              | Description                                                                                                                                                                                                                            | Example value   |
|-----------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| db2Indexer.serverName       | Db2 database server name.                                                                                                                                                                                                              |                 |
| db2Indexer.portNumber       | Db2 database post number.                                                                                                                                                                                                              |                 |
| db2Indexer.databaseName     | Name of the Db2 database.                                                                                                                                                                                                              |                 |
| db2Indexer.current\_schema   | Current schema of the database.                                                                                                                                                                                                        |                 |
| db2Indexer.credentialSecret | The secret that contains the database username and password. To generate the secret, run kubectl create secret generic pfs-db-secret --from-literal=dbUser=<your-dbserver-username> --from-literal=dbPassword=<your-dbserver-password> |                 |
| db2Indexer.ssl              | Whether to use Secure Sockets Layer (SSL).                                                                                                                                                                                             | true            |
| db2Indexer.sslCertSecret    | The secret that contains the SSL username and password. To generate the secret, run kubectl create secret generic db-crt-secret --from-file=ca.crt=<your-dbserver-ca-certification-name>.crt                                           |                 |

## SQL Server parameters

The following table shows the FederatedSystem parameters to enable SQL Server databases.

| Parameter name                    | Description                                                                                                                                                                                                                            | Example value   |
|-----------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------|
| sqlserverIndexer.serverName       | SQL Server database server name.                                                                                                                                                                                                       |                 |
| sqlserverIndexer.portNumber       | SQL Server database post number.                                                                                                                                                                                                       |                 |
| sqlserverIndexer.databaseName     | Name of the SQL Server database.                                                                                                                                                                                                       |                 |
| sqlserverIndexer.credentialSecret | The secret that contains the database username and password. To generate the secret, run kubectl create secret generic pfs-db-secret --from-literal=dbUser=<your-dbserver-username> --from-literal=dbPassword=<your-dbserver-password> |                 |
| sqlserverIndexer.ssl              | Whether to use Secure Sockets Layer (SSL).                                                                                                                                                                                             | true            |
| sqlserverIndexer.sslCertSecret    | The secret that contains the SSL username and password. To generate the secret, run kubectl create secret generic db-crt-secret --from-file=ca.crt=<your-dbserver-ca-certification-name>.crt                                           |                 |