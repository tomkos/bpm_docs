# Configuring LDAP for Business Automation Workflow on
containers

The
operator supports a maximum of 5 LDAP servers.
Options
include IBM Security Directory Server, Microsoft Active Directory, and a custom directory.

Use the following sections to help you configure your LDAPs.

- Bind secret
- LDAP parameters
- Example LDAP\_configuration YAML for IBM Security Directory Server
- Example LDAP\_configuration YAML for Microsoft Active Directory
- Example LDAP\_configuration YAML for a custom LDAP
- Database tuning

## Bind secret

For components that require LDAP, use the lc\_bind\_secret parameter in the
template YAML file to locate a secret that includes the ldapUsername and
ldapPassword keys. Specify the secret name that you create in the
lc\_bind\_secret parameter.

```
ldap\_configuration:
  lc\_bind\_secret: ldap-bind-secret
    ldap<ID>Username:
    ldap<ID>Password:
```

The following command shows how to create the (ldap-bind-secret) secret with
the needed usernames and passwords.

```
oc create secret generic ldap-bind-secret \
    --from-literal=ldapUsername="cn=admin,dc=ibm,dc=edu" --from-literal=ldapPassword="<yourLDAPPassword>" \
```

If you need multiple LDAP configurations, for example ldap\_configuration\_xxx and
ldap\_configuration\_yyy use a single secret (by default
ldap-bind-secret) to include all your LDAP credentials. The operator looks for a
username and password for each LDAP ID. A ldap\_configuration\_***.lc\_ldap\_id
parameter is used to separate the credentials. You do not need to add an ID for the first
ldap\_configuration, which uses ldapUsername and
ldapPassword.

For example, set the LDAP IDs in the custom resource:

```
ldap\_configuration:

ldap\_configuration\_abc:
  lc\_ldap\_id: abc

ldap\_configuration\_def:
  lc\_ldap\_id: def
```

You can then add the credentials to the bind secret for each of the LDAPs. For example, the
following secret includes credentials for 3 LDAPs (for the first LDAP, and for LDAP IDs
abc and def):

```
kubectl create secret generic ldap-bind-secret     
  --from-literal=ldapUsername="cn=admin,dc=ibm,dc=edu" 
  --from-literal=ldapPassword="<yourLDAPPassword>"     
  --from-literal=ldapabcUsername="cn=admin,dc=ibm,dc=edu" 
  --from-literal=ldapabcPassword="<yourLDAPPassword>" 
  --from-literal=ldapdefUsername="cn=admin,dc=ibm,dc=edu"
  --from-literal=ldapdefPassword="<yourLDAPPassword>"
```

## LDAP parameters

| Parameters                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | IBM Security Directory Server example values                                                                                                                                                      | Microsoft Active Directory example values                                                                       |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|---------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------|
| ad.lc\_group\_filter                                    | Search filter for finding entries in the Active Directory base DN group subtree that match the group name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | N/A                                                                                                                                                                                               | (&(cn=%v)(objectcategory=group))                                                                                |
| ad.lc\_user\_filter                                     | Search filter for finding entries in the Active Directory base DN users subtree that match the username.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        | N/A                                                                                                                                                                                               | (&(sAMAccountName=%v)(objectcategory=user))                                                                     |
| lc\_bind\_secret                                        | User name and password for the bind user. The LDAP bind secret must have ldapUsername and ldapPassword keys.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | ldap-bind-secret                                                                                                                                                                                  | ldap-bind-secret                                                                                                |
| lc\_ldap\_base\_dn                                       | The LDAP base distinguished name (DN). The base DN subtree is used when you search for user or group entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                | o=mycompany,c=us                                                                                                                                                                                  | cn=users,dc=adtest,dc=mycity,dc=mycompany,dc=com                                                                |
| lc\_ldap\_group\_base\_dn                                 | The LDAP group base distinguished name (DN). The base DN subtree is used when you search for group entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | dc=hqpsidcdom,dc=com                                                                                                                                                                              | dc=hqpsidcdom,dc=com                                                                                            |
| lc\_ldap\_group\_member\_id\_map                           | Identifies the group member. Hyphens ("-") are not supported in the value for this parameter due to a defect in the Identity Access and Management (IAM) service REST API. The limitation is removed in an upcoming version.                                                                                                                                                                                                                                                                                                                                                                    | groupOfNames:member;groupOfUniqueNames:uniqueMemberNote: If nested group support is enabled in SDS, lc\_ldap\_group\_member\_id\_map should be set to ibm-allGroups:member;ibm-allGroups:uniqueMember. | memberOf:member                                                                                                 |
| lc\_ldap\_group\_name\_attribute                          | The LDAP attribute that represents the group name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | *:cn                                                                                                                                                                                              | *:cn                                                                                                            |
| lc\_ldap\_id                                            | Enter your LDAP ID information.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | username, password                                                                                                                                                                                | username, password                                                                                              |
| lc\_ldap\_port                                          | The LDAP server host port number.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               | 389                                                                                                                                                                                               | 636                                                                                                             |
| lc\_ldap\_precheck                                      | The default value is set to true. True enables the validation of the LDAP connection before the installation. If the value is set to false, the operator skips the validation.                                                                                                                                                                                                                                                                                                                                                                                                                  | true                                                                                                                                                                                              | true                                                                                                            |
| lc\_ldap\_server                                        | The hostname must be either the fully qualified domain name or IP address of your LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | HOSTNAME                                                                                                                                                                                          | HOSTNAME                                                                                                        |
| lc\_ldap\_ssl\_enabled                                   | Specifies whether SSL is used to access LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | true, false                                                                                                                                                                                       | true, false                                                                                                     |
| lc\_ldap\_max\_search\_results                            | Specify a higher value if you expect more search results.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       | 4500                                                                                                                                                                                              | 4500                                                                                                            |
| lc\_use\_ldap\_entity\_type                               | Only used by UMS. Enable the enhancement of the LDAP configuration for the UMS SCIM capability. This should be enabled, if lc\_user\_filter or lc\_group\_filter cannot handle a custom LDAP filter for user or group searches. True enables the liberty ldapEntityType configuration and disables the usage of lc\_user\_filter, lc\_group\_filter, lc\_ldap\_group\_member\_id\_map, lc\_ldap\_user\_name\_attribute and lc\_ldap\_group\_name\_attribute in UMS. For more information about the ldapEntityType, loginProperty, and groupProperties parameters, see the liberty documentation: LDAP User Registry. | true or false                                                                                                                                                                                     | true or false                                                                                                   |
| lc\_ldap\_login\_property                                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A WIM PersonAccount property that is used to generate the LDAP filter for user searches.                                                                                                                                                                                                                                                                                                                                                                                                                                          | uid                                                                                                                                                                                               | uid                                                                                                             |
| lc\_ldap\_entity\_type\_user.object\_class                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class that is defined for the particular LDAP entity type in the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                          | ePerson                                                                                                                                                                                           | user                                                                                                            |
| lc\_ldap\_entity\_type\_user.search\_base                  | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The LDAP base distinguished name (DN). The base DN subtree is used when you search for user entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                           | ou=Users,o=ibm,c=us                                                                                                                                                                               |                                                                                                                 |
| lc\_ldap\_entity\_type\_user.searchfilter                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A custom LDAP search expression used for entity types.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (|(ObjectCategory=User)(ObjectClass=User))                                                                                                                                                        | ObjectCategory=User                                                                                             |
| lc\_ldap\_entity\_type\_group.object\_class                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class that is defined for the specific LDAP entity type in the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                            | -groupOfNames -groupOfUniqueNames -groupOfURLs                                                                                                                                                    | group                                                                                                           |
| lc\_ldap\_entity\_type\_group.search\_base                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The LDAP base distinguished name (DN). The base DN subtree is used when you search for group entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                          | ou=Group,o=ibm,c=us                                                                                                                                                                               |                                                                                                                 |
| lc\_ldap\_entity\_type\_group.searchfilter                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A custom LDAP search expression used for entity types.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ObjectCategory=Group                                                                                                                                                                              |                                                                                                                 |
| lc\_ldap\_group\_properties.member\_attribute.name        | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The name of the member.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                                                                                                                   |                                                                                                                 |
| lc\_ldap\_group\_properties.member\_attribute.object\_clas | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class of the member attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                                                                                                                   |                                                                                                                 |
| lc\_ldap\_group\_properties.member\_attribute.scope       | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The scope of the member attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | all,direct,nested                                                                                                                                                                                 | all,direct,nested                                                                                               |
| lc\_ldap\_group\_properties.membership\_attribute.name    | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The name of the membership attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                                                                                                                   |                                                                                                                 |
| lc\_ldap\_group\_properties.membership\_attribute.scope   | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The scope of the membership attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | all,direct,nested                                                                                                                                                                                 | all,direct,nested                                                                                               |
| lc\_ldap\_recursive\_search                              | Enable recursive searches. The default value is false.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          | true, false If the SDS has nested groups, then this parameter needs to be set as lc\_ldap\_recursive\_search: true                                                                                   | true, false If the SDS has nested groups, then this parameter needs to be set as lc\_ldap\_recursive\_search: true |
| lc\_ldap\_ssl\_secret\_name                               | Specifies a secret name that includes an SSL certificate to use when SSL is used to access LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | ldap-ssl-cert                                                                                                                                                                                     | ldap-ssl-cert                                                                                                   |
| lc\_ldap\_user\_display\_name\_attr                        | The LDAP attribute to display for the full name of the user.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | cn or uid                                                                                                                                                                                         | sAMAccountName                                                                                                  |
| lc\_ldap\_user\_name\_attribute                           | The LDAP attribute that represents the user name. The list can contain multiple values, which are separated by a semicolon. The first relative distinguished name (RDN) must be part of the list. For example, if your user distinguished names (DNs) typically start with uid=..., make sure to include *:uid in the list.                                                                                                                                                                                                                                                                     | *:cn or *:uid                                                                                                                                                                                     | user:sAMAccountName                                                                                             |
| lc\_selected\_ldap\_type                                 | The type of the directory. It can be Custom, IBM Security Directory Server, or Microsoft Active Directory.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      | IBM Security Directory Server                                                                                                                                                                     | Microsoft Active Directory                                                                                      |
| tds.lc\_group\_filter                                   | Search filter for finding entries in the IBM Directory Server base DN group subtree that match the group name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | (&(cn=%v)(|(objectclass=groupofnames)(objectclass=groupofuniquenames)(objectclass=groupofurls)))                                                                                                  | N/A                                                                                                             |
| tds.lc\_user\_filter                                    | Search filter for finding entries in the IBM Directory Server base DN users subtree that match the username.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | (&(cn=%v)(objectclass=person))                                                                                                                                                                    | N/A                                                                                                             |

| Parameters                                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                     | Default Values                                                                                   | Required                   |
|-------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|--------------------------------------------------------------------------------------------------|----------------------------|
| lc\_ldap\_id                                            | The LDAP id for your multi LDAP configuration. The <id\_name> value must be unique. Example values might be msad, ad1, sds, tds1.                                                                                                                                                                                                                                                                                                                                                                                                                                                                | <id\_name>                                                                                        | Yes                        |
| lc\_selected\_ldap\_type                                 | The type of the directory. This can be Custom, IBM Security Directory Server, or Microsoft Active Directory.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | IBM Security Directory Server                                                                    | Microsoft Active Directory |
| lc\_ldap\_server                                        | The host name for the LDAP server that you are using for the environment.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |                                                                                                  | Yes                        |
| lc\_ldap\_port                                          | The port number for the LDAP server that you are using.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | 389                                                                                              | Yes                        |
| lc\_bind\_secret                                        | User name and password for the bind user. If lc\_ldap\_id is not defined, the LDAP bind secret would have ldapUsername and ldapPassword keys.If lc\_ldap\_id is defined, then the LDAP bind secret is expected to have ldap<lc\_ldap\_id>Username ldap<lc\_ldap\_id>Password keys                                                                                                                                                                                                                                                                                                                       | ldap-bind-secret                                                                                 |                            |
| lc\_ldap\_base\_dn                                       | The base distinguished name (DN) of an LDAP user who is allowed to search the LDAP directory if the LDAP server does not allow anonymous access.                                                                                                                                                                                                                                                                                                                                                                                                                                                | dc=example,dc=com                                                                                | Yes                        |
| lc\_ldap\_ssl\_enabled                                   | Specify whether SSL is enabled.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 | true                                                                                             | No                         |
| lc\_ldap\_ssl\_secret\_name                               | Provide the name of the SSL secret that you created.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | " "                                                                                              | Yes                        |
| lc\_ldap\_user\_name\_attribute                           | Provide the format of the user name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (For TDS) *:cn (For AD) user:sAMAccountName                                                      | Yes                        |
| lc\_ldap\_user\_display\_name\_attr                        | Provide the format of the display name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         | (For TDS) cn (For AD) sAMAccountName                                                             | Yes                        |
| lc\_ldap\_group\_base\_dn                                 | The base DN subtree that is used when searching for group entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | dc=example,dc=com                                                                                | Yes                        |
| lc\_ldap\_group\_name\_attribute                          | Provide the format of the group name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           | (For TDS) *:cn                                                                                   | Yes                        |
| lc\_ldap\_group\_display\_name\_attr                       | Provide the format of the group display name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (For TDS) cn                                                                                     | Yes                        |
| lc\_ldap\_group\_member\_id\_map                           | The group id is a filter that is used to determine the group name.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | (For TDS) groupofnames:member (For AD) memberOf:member                                           | Yes                        |
| ad.lc\_user\_filter                                     | Active Directory user filter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (&(samAccountName=%v)(objectClass=user))                                                         | No                         |
| ad.lc\_group\_filter                                    | Active Directory group filter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  | (&(samAccountName=%v)(objectclass=group))                                                        | No                         |
| tds.lc\_user\_filter                                    | IBM Security Directory user filter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              | (&(cn=%v)(objectclass=person))                                                                   | No                         |
| tds.lc\_group\_filter                                   | IBM Security Directory group filter.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (&(cn=%v)(|(objectclass=groupofnames)(objectclass=groupofuniquenames)(objectclass=groupofurls))) | No                         |
| custom.lc\_group\_filter                                | Custom Directory group filter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                   | (&(objectClass=group)(cn=%v))                                                                    | No                         |
| custom.lc\_user\_filter                                 | Custom Directory user filter                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    | (&(objectClass=person)(cn=%v))                                                                   | No                         |
| lc\_use\_ldap\_entity\_type                               | Only used by UMS. Enable the enhancement of the LDAP configuration for the UMS SCIM capability. This should be enabled, if lc\_user\_filter or lc\_group\_filter cannot handle a custom LDAP filter for user or group searches. True enables the liberty ldapEntityType configuration and disables the usage of lc\_user\_filter, lc\_group\_filter, lc\_ldap\_group\_member\_id\_map, lc\_ldap\_user\_name\_attribute and lc\_ldap\_group\_name\_attribute in UMS. For more information about the ldapEntityType, loginProperty, and groupProperties parameters, see the liberty documentation: LDAP User Registry. | true or false                                                                                    | true or false              |
| lc\_ldap\_login\_property                                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A WIM PersonAccount property that is used to generate the LDAP filter for user searches.                                                                                                                                                                                                                                                                                                                                                                                                                                          | uid                                                                                              | uid                        |
| lc\_ldap\_entity\_type\_user.object\_class                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class that is defined for the particular LDAP entity type in the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                          | ePerson                                                                                          | user                       |
| lc\_ldap\_entity\_type\_user.search\_base                  | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The LDAP base distinguished name (DN). The base DN subtree is used when you search for user entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                           | ou=Users,o=ibm,c=us                                                                              |                            |
| lc\_ldap\_entity\_type\_user.searchfilter                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A custom LDAP search expression used for entity types.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | (|(ObjectCategory=User)(ObjectClass=User))                                                       | ObjectCategory=User        |
| lc\_ldap\_entity\_type\_group.object\_class                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class that is defined for the specific LDAP entity type in the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                                                            | -groupOfNames -groupOfUniqueNames -groupOfURLs                                                   | group                      |
| lc\_ldap\_entity\_type\_group.search\_base                 | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The LDAP base distinguished name (DN). The base DN subtree is used when you search for group entries on the LDAP server.                                                                                                                                                                                                                                                                                                                                                                                                          | ou=Group,o=ibm,c=us                                                                              |                            |
| lc\_ldap\_entity\_type\_group.searchfilter                | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. A custom LDAP search expression used for entity types.                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | ObjectCategory=Group                                                                             |                            |
| lc\_ldap\_group\_properties.member\_attribute.name        | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The name of the member.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |                                                                                                  |                            |
| lc\_ldap\_group\_properties.member\_attribute.object\_clas | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The object class of the member attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         |                                                                                                  |                            |
| lc\_ldap\_group\_properties.member\_attribute.scope       | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The scope of the member attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                | all,direct,nested                                                                                | all,direct,nested          |
| lc\_ldap\_group\_properties.membership\_attribute.nam     | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The name of the membership attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                             |                                                                                                  |                            |
| lc\_ldap\_group\_properties.membership\_attribute.scope   | Only used by UMS when lc\_use\_ldap\_entity\_type is set to true. The scope of the membership attribute.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            | all,direct,nested                                                                                | all,direct,nested          |

## Example LDAP\_configuration YAML for IBM Security Directory Server

```
ldap\_configuration:
    lc\_selected\_ldap\_type: "IBM Security Directory Server"
    lc\_ldap\_server: "myhost"
    lc\_ldap\_port: "389"
    lc\_ldap\_base\_dn: "dc=hqpsidcdom,dc=com"
    lc\_ldap\_ssl\_enabled: false
    lc\_ldap\_ssl\_secret\_name: ""
    lc\_ldap\_user\_name\_attribute: "*:cn"
    lc\_ldap\_user\_display\_name\_attr: "cn"
    lc\_ldap\_group\_base\_dn: "dc=hqpsidcdom,dc=com"
    lc\_ldap\_group\_name\_attribute: "*:cn"
    lc\_ldap\_group\_display\_name\_attr: "cn"
    lc\_ldap\_group\_membership\_search\_filter: "(|(&(objectclass=groupofnames)(member={0}))(&(objectclass=groupofuniquenames)(uniquemember={0})))"
    lc\_ldap\_group\_member\_id\_map: "groupofnames:member"
    lc\_ldap\_max\_search\_results: 4500
    lc\_ldap\_recursive\_search: false
    tds:
      lc\_user\_filter: "(&(cn=%v)(objectclass=person))"
      lc\_group\_filter: "(&(cn=%v)(|(objectclass=groupofnames)(objectclass=groupofuniquenames)(objectclass=groupofurls)))"
```

## Example LDAP\_configuration YAML for Microsoft Active Directory

```
ldap\_configuration:
    lc\_selected\_ldap\_type: "Microsoft Active Directory"
    lc\_ldap\_server: "myhost"
    lc\_ldap\_port: "636"
    lc\_ldap\_base\_dn: "dc=hqpsidcdom,dc=com"
    lc\_ldap\_ssl\_enabled: true
    lc\_ldap\_ssl\_secret\_name: "ldap-ssl-cert-secret"
    lc\_ldap\_user\_name\_attribute: "user:sAMAccountName"
    lc\_ldap\_user\_display\_name\_attr: "cn"
    lc\_ldap\_group\_base\_dn: "dc=hqpsidcdom,dc=com"
    lc\_ldap\_group\_name\_attribute: "*:cn"
    lc\_ldap\_group\_display\_name\_attr: "cn"
    lc\_ldap\_group\_membership\_search\_filter: "(&(cn=%v)(objectcategory=group))"
    lc\_ldap\_group\_member\_id\_map: "memberOf:member"
    lc\_ldap\_max\_search\_results: 4500 
    lc\_ldap\_recursive\_search: false
    ad:
      lc\_ad\_gc\_host: ""
      lc\_ad\_gc\_port: ""
      lc\_user\_filter: "(&(samAccountName=%v)(objectcategory=user))"
      lc\_group\_filter: "(&(cn=%v)(objectcategory=group))"
```

## Example LDAP\_configuration YAML for a custom LDAP

You must adjust the example to match your LDAP configuration.

```
ldap\_configuration:
     lc\_selected\_ldap\_type: "Custom"
     lc\_ldap\_server: "myhost"
     lc\_ldap\_port: "636"
     lc\_ldap\_base\_dn: "dc=hqpsidcdom,dc=com"
     lc\_ldap\_ssl\_enabled: true
     lc\_ldap\_ssl\_secret\_name: "ldap-ssl-cert-secret"
     lc\_ldap\_user\_name\_attribute: "user:sAMAccountName"
     lc\_ldap\_user\_display\_name\_attr: "cn"
     lc\_ldap\_group\_base\_dn: "dc=hqpsidcdom,dc=com"
     lc\_ldap\_group\_name\_attribute: "\*:cn"
     lc\_ldap\_group\_display\_name\_attr: "cn"
     lc\_ldap\_group\_membership\_search\_filter: "(&(cn=%v)(objectcategory=group))"
     lc\_ldap\_group\_member\_id\_map: "memberOf:member"
     lc\_ldap\_max\_search\_results: 4500
     lc\_ldap\_recursive\_search: false
     lc\_enable\_pagination: false
     lc\_pagination\_size: 4500 
     custom:
       lc\_user\_filter: "(&(objectClass=person)(cn=%v))"
       lc\_group\_filter: "(&(objectClass=group)(cn=%v))"
```

## Database tuning

If your IBM Security Directory Server LDAP has 200,000+ users, 100+ groups, and multiple group
search filters, the LDAP might fail to integrate with IAM. You can remove group search filters to
see whether it resolves the problem. For more information about tuning, see Advanced tuning mode and How to run REORG, REORGCHK and RUNSTAT on all tables in a
database.