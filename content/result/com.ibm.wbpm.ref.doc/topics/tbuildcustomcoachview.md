# Using AngularJS helper provided in the Responsive Coaches toolkit

## About this task

## Procedure

To use the helper functions in your own AngularJS-based custom Business Automation Workflow view, complete the following
steps.

1. In IBMÂ® Process Designer, open
the process application that you want to work with.
2. Ensure that the process application has a dependency on
the Responsive Coaches toolkit. For more information, see Managing toolkit dependencies.
3. Create a view in Process Designer. For
more information, see Developing reusable views.
4 To load the view helper functions:
    1. Define the location of the AngularJS helper functions by pasting the following snippet
(including the comments) into the Inline Javascript section of your view: 
/*
@dojoConfigUpdateStart
dojoConfig.packages.push({
name: 'com.ibm.bpm.coach.angular',
location: com\_ibm\_bpm\_coach.getManagedAssetUrl('coachview.helper.min.zip',
com\_ibm\_bpm\_coach.assetType\_WEB, 'SYSRC')
});
@dojoConfigUpdateEnd
*/
    2 Add coachViewHelper as an AMD dependency to the AMDDependencies section of your view:
        - ModuleID: com.ibm.bpm.coach.angular/scripts/coachViewHelper
        - Alias: coachViewHelper
5 Now that you have access to coachViewHelper module in your view, use it to load your AngularJS controller andto bootstrap your view. The coachViewHelper moduleloads the AngularJS library and several helper functions. The coachViewHelper has the following helperfunctions:Table 1. Helper functions in coachViewHelper Function Description coachViewHelper.loadResources Forces the load of all JavaScript files that areloaded using the coachViewHelper.loadResource function. Typically, you use thisfunction in view preview handler only, and you do not need to call it in the viewload method. Syntax coachViewHelper.loadResources() coachViewHelper.loadResource Loads the JavaScript files that you may need in yourview. For example, you can use the coachViewHelper.loadResource function to loadthe JavaScript that contains your AngularJS viewcontroller. This function is typically called in the load method of your viewbefore the view is bootstrapped. Syntax coachViewHelper.loadResource(<managed\_asset\_zipfilename> , <toolkit\_acronym> , <relative\_location\_of\_JSfile> , <optional\_fallback\_JSfile\_if\_first\_file\_cannot\_be\_loaded> ) Example coachViewHelper.loadResource('myCoachViewAssets.zip', 'MCVA', '/scripts/coachView1.es.ja','/scripts/coachView1.en.ja') coachViewHelper.bootstrap Bootstraps your view by compiling your view and calling your AngularJS view controller.Typically, this function is called at the end of your view's load method. Syntax coachViewHelper.bootstrap(<reference\_to\_view> , <module\_name> , <controller\_name> , <optional\_object\_that\_contains\_minimum\_supported\_browser\_versions\_for\_this\_coachview> ) Example coachViewHelper.bootstrap(this, 'responsive.coaches', 'myCoachView', {Explorer: 9}) coachViewHelper.init Initializes the view. Typically, this function is called from the view's view method. Syntax coachViewHelper.init(); coachViewHelper.notify Informs AngularJS that something that the view is interested in has changed. Typically, thisresults in a digest of the view, and is called from the view's change method. Syntax coachViewHelper.notify(<reference\_to\_view> , <reference\_to\_validation\_event> ) Example coachViewHelper.notify(this, event) coachViewHelper.validate Informs AngularJS that there are validation events that must be shown. Typically, this results ina digest of the view and is called from the view's validate method. Syntax coachViewHelper.validate(<reference\_to\_view> , <reference\_to\_validation\_event> ) Example coachViewHelper.validate(this, event) coachViewHelper.compile Compiles all the elements on a coach. Typically, views do not need to call this functiondirectly. Syntax coachViewHelper.compile() coachViewHelper.compileElement Compiles a single element and its children. Typically, views do not need to call this functiondirectly. Syntax coachViewHelper.compileElement(<reference\_to\_element> ) Example coachViewHelper.compileElement(element) coachViewHelper.compileContentBoxes Compiles content boxes. This function is useful if a content box was added after the coach orpage was loaded. Syntax coachViewHelper.compileContentBoxes(<list\_of\_content\_boxes> ) Example coachViewHelper.compileContentBoxes(contentBoxes) coachViewHelper.alreadyCompiled Checks if a given element has already beencompiled. Syntax coachViewHelper.alreadyCompiled(<reference\_to\_element> ) Example coachViewHelper.alreadyCompiled(element) The coachViewHelper also has some properties that may be useful:

| Function                            | Description                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                          |
|-------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| coachViewHelper.loadResources       | Forces the load of all JavaScript files that are loaded using the coachViewHelper.loadResource function. Typically, you use this function in view preview handler only, and you do not need to call it in the view load method.  Syntax coachViewHelper.loadResources()                                                                                                                                                                                                                                                                                                                                              |
| coachViewHelper.loadResource        | Loads the JavaScript files that you may need in your view. For example, you can use the coachViewHelper.loadResource function to load the JavaScript that contains your AngularJS view controller. This function is typically called in the load method of your view before the view is bootstrapped.  Syntax coachViewHelper.loadResource(<managed\_asset\_zipfilename>, <toolkit\_acronym>,  <relative\_location\_of\_JSfile>, <optional\_fallback\_JSfile\_if\_first\_file\_cannot\_be\_loaded>) Example coachViewHelper.loadResource('myCoachViewAssets.zip', 'MCVA', '/scripts/coachView1.es.ja','/scripts/coachView1.en.ja') |
| coachViewHelper.bootstrap           | Bootstraps your view by compiling your view and calling your AngularJS view controller. Typically, this function is called at the end of your view's load method.  Syntax  coachViewHelper.bootstrap(<reference\_to\_view>, <module\_name>, <controller\_name>,  <optional\_object\_that\_contains\_minimum\_supported\_browser\_versions\_for\_this\_coachview>)  Example  coachViewHelper.bootstrap(this, 'responsive.coaches', 'myCoachView', {Explorer: 9})                                                                                                                                                                    |
| coachViewHelper.init                | Initializes the view. Typically, this function is called from the view's view method.  Syntax coachViewHelper.init();                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| coachViewHelper.notify              | Informs AngularJS that something that the view is interested in has changed. Typically, this results in a digest of the view, and is called from the view's change method.  Syntax coachViewHelper.notify(<reference\_to\_view>, <reference\_to\_validation\_event>) Example coachViewHelper.notify(this, event)                                                                                                                                                                                                                                                                                                          |
| coachViewHelper.validate            | Informs AngularJS that there are validation events that must be shown. Typically, this results in a digest of the view and is called from the view's validate method.  Syntax coachViewHelper.validate(<reference\_to\_view>, <reference\_to\_validation\_event>) Example coachViewHelper.validate(this, event)                                                                                                                                                                                                                                                                                                           |
| coachViewHelper.compile             | Compiles all the elements on a coach. Typically, views do not need to call this function directly.  Syntax coachViewHelper.compile()                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 |
| coachViewHelper.compileElement      | Compiles a single element and its children. Typically, views do not need to call this function directly.  Syntax coachViewHelper.compileElement(<reference\_to\_element>) Example coachViewHelper.compileElement(element)                                                                                                                                                                                                                                                                                                                                                                                              |
| coachViewHelper.compileContentBoxes | Compiles content boxes. This function is useful if a content box was added after the coach or page was loaded.  Syntax coachViewHelper.compileContentBoxes(<list\_of\_content\_boxes>) Example coachViewHelper.compileContentBoxes(contentBoxes)                                                                                                                                                                                                                                                                                                                                                                        |
| coachViewHelper.alreadyCompiled     | Checks if a given element has already been compiled.  Syntax coachViewHelper.alreadyCompiled(<reference\_to\_element>) Example coachViewHelper.alreadyCompiled(element)                                                                                                                                                                                                                                                                                                                                                                                                                                                |

- coachViewHelper.locale - Indicates the
current locale that is being used
- coachViewHelper.isDebug  - Indicates
whether the environment is in debug mode
6. You can add the HTML markup of your view to the body of a Custom HTML view in the
Layout.
7. Your controller should be defined in a JavaScript file that was previously loaded
using the coachViewHelper.loadResource function.
 It uses the same controller name as the name provided in the coachViewHelper.bootstrap function and looks similar to
the following example: 
angular  
  .module("responsive.coaches")
  .controller(<controller\_name> , ["$scope", "$element", "$timeout", "Coach", <anything\_else\_you\_need>
  function ($scope, $element, $timeout, Coach, <variables\_for\_anything\_else\_you\_need>) { 
 
  <your\_controller\_content>

}])

## Example