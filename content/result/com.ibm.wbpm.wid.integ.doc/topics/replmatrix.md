<!-- image -->

# Runtime behavior of the Endpoint Lookup primitive

| Match policy                    | Match found   | EndpointLookup context updated   | output terminal   | URI placed in /headers/SMOHeader/Target/address                       | Result                                                                                                                                                   |
|---------------------------------|---------------|----------------------------------|-------------------|-----------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------|
| Retrieve one matching endpoint  | Yes           | Yes                              | Output            | by endpoint lookup primitive                                          | If the "Use dynamic endpoint" property is enabled, the URI in the target address element is invoked.                                                     |
| Retrieve one matching endpoint  | No            | No                               | No Match          | No                                                                    | Invoke the flow that is wired to the No Match terminal                                                                                                   |
| Retrieve all matching endpoints | Yes           | Yes                              | Output            | by another primitive such as MessageElementSetter or Custom Mediation | If the "Use dynamic endpoint" property is enabled, the URI in the target address element is invoked.                                                     |
| Retrieve all matching endpoints | Yes           | Yes                              | Output            | not found                                                             | If an import is wired to the callout's reference, the service specified in the import will be invoked statically. Otherwise, a runtime error will occur. |
| Retrieve all matching endpoints | No            | No                               | No Match          | No                                                                    | Invoke the flow that is wired to the No Match terminal                                                                                                   |