# Db2 database privileges

When you create database schemas using the typical installation
or database scripts that are generated using the BPMConfig command-line
utility, your user ID must have the authority to create tables. When
the tables are created, you must have the authority to select, insert,
update, and delete information in the tables.

```
db2 list tables for schema @DB\_USER@
grant select, update, delete, insert on @TABLE\_NAME@ to user @DB\_USER@;
grant references on @TABLE\_NAME@ to user @DB\_USER@;
grant usage on sequence @SEQUENCE\_NAME@ to user @DB\_USER@;
```

| Component                                                                                                                                                  | Installation and upgrade privileges                                                                                                                                                                                                                                     | Runtime privileges                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           |
|------------------------------------------------------------------------------------------------------------------------------------------------------------|-------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------|
| Common DB                                                                                                                                                  | CREATE TABLE, CREATE INDEXTYPE, ALTER TABLE, INSERT, CREATE SEQUENCE, CREATE USER, ALTER USER, CREATE TABLESPACE                                                                                                                                                        | SELECT, UPDATE, DELETE, INSERT, CREATE VIEW, CREATE PROCEDUREThe runtime user must have USAGE ON SEQUENCE privileges on all sequences in the createSchema\_*.sql script for the common DB.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                    |
| Business Space                                                                                                                                             | CREATE TABLE, CREATE INDEXTYPE, ALTER TABLE, INSERT, CREATE SEQUENCE, CREATE USER, ALTER USER, CREATE TABLESPACE                                                                                                                                                        | SELECT, UPDATE, DELETE, INSERT, CREATE VIEW, CREATE PROCEDURE                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                |
| Business Process Choreographer                                                                                                                             | CREATE TABLE, ALTER TABLE, CREATE VIEW, CREATE TABLESPACE, CREATE USER, CREATE PROCEDURE                                                                                                                                                                                | SELECT, UPDATE, DELETE, INSERT                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               |
| Messaging Engines                                                                                                                                          | CREATE TABLE, CREATE INDEXTYPE                                                                                                                                                                                                                                          | SELECT, UPDATE, DELETE, INSERT, DROP ANY TABLENote: Messaging Engines use the TRUNCATE TABLE SQL statement, which might require the DROP ANY TABLE privilege. See Database privileges.                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       |
| Process Server or Performance Data WarehouseNote: Of all the components in this list, only the Process Server component applies to Workflow on containers. | Required to create the database:  CREATEDBA CREATEDBC   Required to populate the database with our schemas and stored procedures: CREATETAB CREATEIN DROPIN   Additional required privileges on the created tables:  ALTER DELETE INDEX INSERT REFERENCES SELECT UPDATE | Required privileges on the tables in the Process and Performance Data Warehouse databases:  DELETE INSERT REFERENCES SELECT UPDATE   The runtime user must have EXECUTE ON PROCEDURE privileges on the six stored procedures in the createProcedure\_ProcessServer.sql script. The runtime user requires all of the listed privileges on the Performance Tracking Server database as well. In addition, the user also must be able to create new tables in the Performance Tracking database, requiring the CREATETAB privilege. To read the system metadata tables, the SELECT permission is required on syscat.tables, syscat.views, syscat.columns, syscat.tabconst, and sysibm.sysdummy1. |
| Content                                                                                                                                                    | CREATE TABLE, CREATE INDEXTYPE, ALTER TABLE, INSERT, CREATE SEQUENCE, CREATE USER, ALTER USER, CREATE TABLESPACE                                                                                                                                                        | CONNECT ON DATABASE CREATETAB USE OF TABLESPACES SELECT on SYSIBM.SYSVERSIONS SELECT on SYSCAT.DATATYPES SELECT on SYSCAT.INDEXES SELECT on SYSIBM.SYSDUMMY1 USAGE on workload SYSDEFAULTUSERWORKLOAD IMPLICIT\_SCHEMA on DATABASE                                                                                                                                                                                                                                                                                                                                                                                                                                                            |
| BPM document store                                                                                                                                         |                                                                                                                                                                                                                                                                         | CONNECT ON DATABASE CREATETAB USE OF TABLESPACES SELECT on SYSIBM.SYSVERSIONS SELECT on SYSCAT.DATATYPES SELECT on SYSCAT.INDEXES SELECT on SYSIBM.SYSDUMMY1 USAGE on workload SYSDEFAULTUSERWORKLOAD IMPLICIT\_SCHEMA on DATABASE  Notes:  When you configure your database for the BPM document store, a database capability that is named EmbeddedECM is used. The privileges listed for the BPM content store are required for the database in the property file containing the EmbeddedECM capability. The Global Configuration Database (GCD) tables and the object stores' tables are created by FileNet at run time, not by the Business Automation Workflow database scripts.        |

```
create database @DB\_NAME@ automatic storage yes  using codeset UTF-8 territory US pagesize 32768;
connect to @DB\_NAME@;
grant dbadm on database to user @DB\_USER@;
UPDATE DB CFG FOR @DB\_NAME@ USING LOGFILSIZ 16384 DEFERRED; 
UPDATE DB CFG FOR @DB\_NAME@ USING LOGSECOND 64 IMMEDIATE;
connect reset;
```

In the previous example, replace @DB\_NAME@ with the name that you want to use
for the created database and replace @DB\_USER@ with the user name that you want
to use for the database.

```
db2 list tables for schema @DB\_USER@
grant select, update, delete, insert on @TABLE\_NAME@ to user @DB\_USER@;
grant references on @TABLE\_NAME@ to user @DB\_USER@;
grant usage on sequence @SEQUENCE\_NAME@ to user @DB\_USER@;
```

In the previous example, replace the variables with the following values:

- Replace @DB\_USER@ with the name of the non-DBA
user.
- Replace @TABLE\_NAME@ with the name of the database
table.
- Replace @SEQUENCE\_NAME@ with the name of the sequence.

## Related reference

- Database privileges in WebSphere Application Server